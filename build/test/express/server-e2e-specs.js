"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
require("source-map-support/register");
var _2 = require("../..");
var _axios = _interopRequireDefault(require("axios"));
var _chai = _interopRequireDefault(require("chai"));
var _chaiAsPromised = _interopRequireDefault(require("chai-as-promised"));
var _sinon = _interopRequireDefault(require("sinon"));
var _bluebird = _interopRequireDefault(require("bluebird"));
var _lodash = _interopRequireDefault(require("lodash"));
_chai.default.should();
_chai.default.use(_chaiAsPromised.default);
describe('server', function () {
  let hwServer;
  let errorStub;
  before(async function () {
    errorStub = _sinon.default.stub(console, 'error');
    function configureRoutes(app) {
      app.get('/', (req, res) => {
        res.header['content-type'] = 'text/html';
        res.status(200).send('Hello World!');
      });
      app.get('/wd/hub/python', (req, res) => {
        res.status(200).send(req.headers['content-type']);
      });
      app.get('/error', () => {
        throw new Error('hahaha');
      });
      app.get('/pause', async (req, res) => {
        res.header['content-type'] = 'text/html';
        await _bluebird.default.delay(1000);
        res.status(200).send('We have waited!');
      });
    }
    hwServer = await (0, _2.server)({
      routeConfiguringFunction: configureRoutes,
      port: 8181
    });
  });
  after(async function () {
    await hwServer.close();
    errorStub.restore();
  });
  it('should start up with our middleware', async function () {
    const {
      data
    } = await _axios.default.get('http://localhost:8181/');
    data.should.eql('Hello World!');
  });
  it('should fix broken context type', async function () {
    const {
      data
    } = await (0, _axios.default)({
      url: 'http://localhost:8181/wd/hub/python',
      headers: {
        'user-agent': 'Python',
        'content-type': 'application/x-www-form-urlencoded'
      }
    });
    data.should.eql('application/json; charset=utf-8');
  });
  it('should catch errors in the catchall', async function () {
    await _axios.default.get('http://localhost:8181/error').should.be.rejected;
  });
  it('should error if we try to start again on a port that is used', async function () {
    await (0, _2.server)({
      routeConfiguringFunction() {},
      port: 8181
    }).should.be.rejectedWith(/EADDRINUSE/);
  });
  it('should not wait for the server close connections before finishing closing', async function () {
    let bodyPromise = _axios.default.get('http://localhost:8181/pause').catch(() => {});
    await _bluebird.default.delay(100);
    let before = Date.now();
    await hwServer.close();
    (Date.now() - before).should.not.be.above(800);
    await bodyPromise;
  });
  it('should error if we try to start on a bad hostname', async function () {
    this.timeout(60000);
    await (0, _2.server)({
      routeConfiguringFunction: _lodash.default.noop,
      port: 8181,
      hostname: 'lolcathost'
    }).should.be.rejectedWith(/ENOTFOUND|EADDRNOTAVAIL|EAI_AGAIN/);
    await (0, _2.server)({
      routeConfiguringFunction: _lodash.default.noop,
      port: 8181,
      hostname: '1.1.1.1'
    }).should.be.rejectedWith(/EADDRNOTAVAIL/);
  });
});
describe('server plugins', function () {
  let hwServer;
  afterEach(async function () {
    try {
      await hwServer.close();
    } catch (ign) {}
  });
  function updaterWithGetRoute(route, reply) {
    return async (app, httpServer) => {
      app.get(`/${route}`, (req, res) => {
        res.header['content-type'] = 'text/html';
        res.status(200).send(reply);
      });
      httpServer[`_updated_${route}`] = true;
    };
  }
  it.skip('should not allow a plugin to update server if it has updatesServer set to false', async function () {
    hwServer = await (0, _2.server)({
      routeConfiguringFunction: _lodash.default.noop,
      port: 8181,
      plugins: [{
        updatesServer: false,
        updateServer: updaterWithGetRoute('no', 'Should never see this')
      }]
    });
    await _axios.default.get('http://localhost:8181/no').should.eventually.be.rejectedWith(/404/);
  });
  it.skip('should allow one or more plugins to update the server', async function () {
    hwServer = await (0, _2.server)({
      routeConfiguringFunction: _lodash.default.noop,
      port: 8181,
      plugins: [{
        updatesServer: true,
        updateServer: updaterWithGetRoute('plugin1', 'res from plugin1 route')
      }, {
        updatesServer: true,
        updateServer: updaterWithGetRoute('plugin2', 'res from plugin2 route')
      }]
    });
    let {
      data
    } = await _axios.default.get('http://localhost:8181/plugin1');
    data.should.eql('res from plugin1 route');
    ({
      data
    } = await _axios.default.get('http://localhost:8181/plugin2'));
    data.should.eql('res from plugin2 route');
    hwServer._updated_plugin1.should.be.true;
    hwServer._updated_plugin2.should.be.true;
  });
  it('should not allow a plugin to update server if it has incorrect updateServer method', async function () {
    await (0, _2.server)({
      routeConfiguringFunction: _lodash.default.noop,
      port: 8181,
      plugins: [{
        updatesServer: true,
        updateServer: false
      }]
    }).should.eventually.be.rejectedWith(/is not a function/);
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9leHByZXNzL3NlcnZlci1lMmUtc3BlY3MuanMiLCJuYW1lcyI6WyJfMiIsInJlcXVpcmUiLCJfYXhpb3MiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2NoYWkiLCJfY2hhaUFzUHJvbWlzZWQiLCJfc2lub24iLCJfYmx1ZWJpcmQiLCJfbG9kYXNoIiwiY2hhaSIsInNob3VsZCIsInVzZSIsImNoYWlBc1Byb21pc2VkIiwiZGVzY3JpYmUiLCJod1NlcnZlciIsImVycm9yU3R1YiIsImJlZm9yZSIsInNpbm9uIiwic3R1YiIsImNvbnNvbGUiLCJjb25maWd1cmVSb3V0ZXMiLCJhcHAiLCJnZXQiLCJyZXEiLCJyZXMiLCJoZWFkZXIiLCJzdGF0dXMiLCJzZW5kIiwiaGVhZGVycyIsIkVycm9yIiwiQiIsImRlbGF5Iiwic2VydmVyIiwicm91dGVDb25maWd1cmluZ0Z1bmN0aW9uIiwicG9ydCIsImFmdGVyIiwiY2xvc2UiLCJyZXN0b3JlIiwiaXQiLCJkYXRhIiwiYXhpb3MiLCJlcWwiLCJ1cmwiLCJiZSIsInJlamVjdGVkIiwicmVqZWN0ZWRXaXRoIiwiYm9keVByb21pc2UiLCJjYXRjaCIsIkRhdGUiLCJub3ciLCJub3QiLCJhYm92ZSIsInRpbWVvdXQiLCJfIiwibm9vcCIsImhvc3RuYW1lIiwiYWZ0ZXJFYWNoIiwiaWduIiwidXBkYXRlcldpdGhHZXRSb3V0ZSIsInJvdXRlIiwicmVwbHkiLCJodHRwU2VydmVyIiwic2tpcCIsInBsdWdpbnMiLCJ1cGRhdGVzU2VydmVyIiwidXBkYXRlU2VydmVyIiwiZXZlbnR1YWxseSIsIl91cGRhdGVkX3BsdWdpbjEiLCJ0cnVlIiwiX3VwZGF0ZWRfcGx1Z2luMiJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4iLCJzb3VyY2VzIjpbInRlc3QvZXhwcmVzcy9zZXJ2ZXItZTJlLXNwZWNzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHRyYW5zcGlsZTptb2NoYVxuXG5pbXBvcnQgeyBzZXJ2ZXIgfSBmcm9tICcuLi8uLic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgY2hhaUFzUHJvbWlzZWQgZnJvbSAnY2hhaS1hcy1wcm9taXNlZCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IEIgZnJvbSAnYmx1ZWJpcmQnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuY2hhaS5zaG91bGQoKTtcbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcblxuZGVzY3JpYmUoJ3NlcnZlcicsIGZ1bmN0aW9uICgpIHtcbiAgbGV0IGh3U2VydmVyO1xuICBsZXQgZXJyb3JTdHViO1xuICBiZWZvcmUoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGVycm9yU3R1YiA9IHNpbm9uLnN0dWIoY29uc29sZSwgJ2Vycm9yJyk7XG4gICAgZnVuY3Rpb24gY29uZmlndXJlUm91dGVzIChhcHApIHtcbiAgICAgIGFwcC5nZXQoJy8nLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmhlYWRlclsnY29udGVudC10eXBlJ10gPSAndGV4dC9odG1sJztcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ0hlbGxvIFdvcmxkIScpO1xuICAgICAgfSk7XG4gICAgICBhcHAuZ2V0KCcvd2QvaHViL3B5dGhvbicsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXEuaGVhZGVyc1snY29udGVudC10eXBlJ10pO1xuICAgICAgfSk7XG4gICAgICBhcHAuZ2V0KCcvZXJyb3InLCAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGFoYWhhJyk7XG4gICAgICB9KTtcbiAgICAgIGFwcC5nZXQoJy9wYXVzZScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuaGVhZGVyWydjb250ZW50LXR5cGUnXSA9ICd0ZXh0L2h0bWwnO1xuICAgICAgICBhd2FpdCBCLmRlbGF5KDEwMDApO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZCgnV2UgaGF2ZSB3YWl0ZWQhJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaHdTZXJ2ZXIgPSBhd2FpdCBzZXJ2ZXIoe1xuICAgICAgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uOiBjb25maWd1cmVSb3V0ZXMsXG4gICAgICBwb3J0OiA4MTgxLFxuICAgIH0pO1xuICB9KTtcbiAgYWZ0ZXIoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGF3YWl0IGh3U2VydmVyLmNsb3NlKCk7XG4gICAgZXJyb3JTdHViLnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzdGFydCB1cCB3aXRoIG91ciBtaWRkbGV3YXJlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MTgxLycpO1xuICAgIGRhdGEuc2hvdWxkLmVxbCgnSGVsbG8gV29ybGQhJyk7XG4gIH0pO1xuICBpdCgnc2hvdWxkIGZpeCBicm9rZW4gY29udGV4dCB0eXBlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHtkYXRhfSA9IGF3YWl0IGF4aW9zKHtcbiAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODE4MS93ZC9odWIvcHl0aG9uJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ3VzZXItYWdlbnQnOiAnUHl0aG9uJyxcbiAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgICB9XG4gICAgfSk7XG4gICAgZGF0YS5zaG91bGQuZXFsKCdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Jyk7XG4gIH0pO1xuICBpdCgnc2hvdWxkIGNhdGNoIGVycm9ycyBpbiB0aGUgY2F0Y2hhbGwnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgxODEvZXJyb3InKS5zaG91bGQuYmUucmVqZWN0ZWQ7XG4gIH0pO1xuICBpdCgnc2hvdWxkIGVycm9yIGlmIHdlIHRyeSB0byBzdGFydCBhZ2FpbiBvbiBhIHBvcnQgdGhhdCBpcyB1c2VkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGF3YWl0IHNlcnZlcih7XG4gICAgICByb3V0ZUNvbmZpZ3VyaW5nRnVuY3Rpb24gKCkge30sXG4gICAgICBwb3J0OiA4MTgxLFxuICAgIH0pLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoL0VBRERSSU5VU0UvKTtcbiAgfSk7XG4gIGl0KCdzaG91bGQgbm90IHdhaXQgZm9yIHRoZSBzZXJ2ZXIgY2xvc2UgY29ubmVjdGlvbnMgYmVmb3JlIGZpbmlzaGluZyBjbG9zaW5nJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGxldCBib2R5UHJvbWlzZSA9IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MTgxL3BhdXNlJykuY2F0Y2goKCkgPT4ge30pO1xuXG4gICAgLy8gcmVsaW5xdWlzaCBjb250cm9sIHNvIHRoYXQgd2UgZG9uJ3QgY2xvc2UgYmVmb3JlIHRoZSByZXF1ZXN0IGlzIHJlY2VpdmVkXG4gICAgYXdhaXQgQi5kZWxheSgxMDApO1xuXG4gICAgbGV0IGJlZm9yZSA9IERhdGUubm93KCk7XG4gICAgYXdhaXQgaHdTZXJ2ZXIuY2xvc2UoKTtcbiAgICAvLyBleHBlY3Qgc2xpZ2h0bHkgbGVzcyB0aGFuIHRoZSByZXF1ZXN0IHdhaXRlZCwgc2luY2Ugd2UgcGF1c2VkIGFib3ZlXG4gICAgKERhdGUubm93KCkgLSBiZWZvcmUpLnNob3VsZC5ub3QuYmUuYWJvdmUoODAwKTtcblxuICAgIGF3YWl0IGJvZHlQcm9taXNlO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBlcnJvciBpZiB3ZSB0cnkgdG8gc3RhcnQgb24gYSBiYWQgaG9zdG5hbWUnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50aW1lb3V0KDYwMDAwKTtcbiAgICBhd2FpdCBzZXJ2ZXIoe1xuICAgICAgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uOiBfLm5vb3AsXG4gICAgICBwb3J0OiA4MTgxLFxuICAgICAgaG9zdG5hbWU6ICdsb2xjYXRob3N0JyxcbiAgICB9KS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKC9FTk9URk9VTkR8RUFERFJOT1RBVkFJTHxFQUlfQUdBSU4vKTtcbiAgICBhd2FpdCBzZXJ2ZXIoe1xuICAgICAgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uOiBfLm5vb3AsXG4gICAgICBwb3J0OiA4MTgxLFxuICAgICAgaG9zdG5hbWU6ICcxLjEuMS4xJyxcbiAgICB9KS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKC9FQUREUk5PVEFWQUlMLyk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdzZXJ2ZXIgcGx1Z2lucycsIGZ1bmN0aW9uICgpIHtcbiAgbGV0IGh3U2VydmVyO1xuICBhZnRlckVhY2goYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBod1NlcnZlci5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGlnbikge31cbiAgfSk7XG5cbiAgZnVuY3Rpb24gdXBkYXRlcldpdGhHZXRSb3V0ZSAocm91dGUsIHJlcGx5KSB7XG4gICAgcmV0dXJuIGFzeW5jIChhcHAsIGh0dHBTZXJ2ZXIpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWF3YWl0XG4gICAgICBhcHAuZ2V0KGAvJHtyb3V0ZX1gLCAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLmhlYWRlclsnY29udGVudC10eXBlJ10gPSAndGV4dC9odG1sJztcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVwbHkpO1xuICAgICAgfSk7XG4gICAgICBodHRwU2VydmVyW2BfdXBkYXRlZF8ke3JvdXRlfWBdID0gdHJ1ZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gVE9ETzogRml4IHBsdWdpbnMgY29uZmlndXJhdGlvbiBmb3IgdGhlIHRlc3RzXG4gIGl0LnNraXAoJ3Nob3VsZCBub3QgYWxsb3cgYSBwbHVnaW4gdG8gdXBkYXRlIHNlcnZlciBpZiBpdCBoYXMgdXBkYXRlc1NlcnZlciBzZXQgdG8gZmFsc2UnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgaHdTZXJ2ZXIgPSBhd2FpdCBzZXJ2ZXIoe1xuICAgICAgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uOiBfLm5vb3AsXG4gICAgICBwb3J0OiA4MTgxLFxuICAgICAgcGx1Z2luczogW1xuICAgICAgICB7XG4gICAgICAgICAgdXBkYXRlc1NlcnZlcjogZmFsc2UsXG4gICAgICAgICAgdXBkYXRlU2VydmVyOiB1cGRhdGVyV2l0aEdldFJvdXRlKCdubycsICdTaG91bGQgbmV2ZXIgc2VlIHRoaXMnKSxcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MTgxL25vJykuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC80MDQvKTtcbiAgfSk7XG4gIGl0LnNraXAoJ3Nob3VsZCBhbGxvdyBvbmUgb3IgbW9yZSBwbHVnaW5zIHRvIHVwZGF0ZSB0aGUgc2VydmVyJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGh3U2VydmVyID0gYXdhaXQgc2VydmVyKHtcbiAgICAgIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbjogXy5ub29wLFxuICAgICAgcG9ydDogODE4MSxcbiAgICAgIHBsdWdpbnM6IFt7XG4gICAgICAgIHVwZGF0ZXNTZXJ2ZXI6IHRydWUsXG4gICAgICAgIHVwZGF0ZVNlcnZlcjogdXBkYXRlcldpdGhHZXRSb3V0ZSgncGx1Z2luMScsICdyZXMgZnJvbSBwbHVnaW4xIHJvdXRlJyksXG4gICAgICB9LCB7XG4gICAgICAgIHVwZGF0ZXNTZXJ2ZXI6IHRydWUsXG4gICAgICAgIHVwZGF0ZVNlcnZlcjogdXBkYXRlcldpdGhHZXRSb3V0ZSgncGx1Z2luMicsICdyZXMgZnJvbSBwbHVnaW4yIHJvdXRlJyksXG4gICAgICB9XVxuICAgIH0pO1xuICAgIGxldCB7ZGF0YX0gPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9wbHVnaW4xJyk7XG4gICAgZGF0YS5zaG91bGQuZXFsKCdyZXMgZnJvbSBwbHVnaW4xIHJvdXRlJyk7XG4gICAgKHtkYXRhfSA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MTgxL3BsdWdpbjInKSk7XG4gICAgZGF0YS5zaG91bGQuZXFsKCdyZXMgZnJvbSBwbHVnaW4yIHJvdXRlJyk7XG4gICAgaHdTZXJ2ZXIuX3VwZGF0ZWRfcGx1Z2luMS5zaG91bGQuYmUudHJ1ZTtcbiAgICBod1NlcnZlci5fdXBkYXRlZF9wbHVnaW4yLnNob3VsZC5iZS50cnVlO1xuICB9KTtcbiAgaXQoJ3Nob3VsZCBub3QgYWxsb3cgYSBwbHVnaW4gdG8gdXBkYXRlIHNlcnZlciBpZiBpdCBoYXMgaW5jb3JyZWN0IHVwZGF0ZVNlcnZlciBtZXRob2QnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgYXdhaXQgc2VydmVyKHtcbiAgICAgIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbjogXy5ub29wLFxuICAgICAgcG9ydDogODE4MSxcbiAgICAgIHBsdWdpbnM6IFt7XG4gICAgICAgIHVwZGF0ZXNTZXJ2ZXI6IHRydWUsXG4gICAgICAgIHVwZGF0ZVNlcnZlcjogZmFsc2VcbiAgICAgIH1dXG4gICAgfSkuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKC9pcyBub3QgYSBmdW5jdGlvbi8pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBRUEsSUFBQUEsRUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBRCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUksZUFBQSxHQUFBRixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQUssTUFBQSxHQUFBSCxzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFB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
